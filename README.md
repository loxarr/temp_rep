# Telegram Bot ‚Äî –ú–æ–Ω–∏—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–æ—Ç–æ–≤ –≤ Telegram. –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

---

## üìã –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Python 3.12** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Telethon 1.42.0** ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram API
- **aiogram** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram –±–æ—Ç–æ–≤
- **asyncio** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
- **python-dotenv 1.2.1** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **pytz 2025.2** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏
- **schedule 1.2.2** ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
- **rsa 4.9.1** ‚Äî –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

---

## üîë API —Ç–æ–∫–µ–Ω—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–ª—é—á–µ–π

#### 1. **API_ID –∏ API_HASH** (Telegram Client API)
   - –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ [my.telegram.org](https://my.telegram.org)
   - –ó–∞–ª–æ–≥–∏–Ω—å—Å—è –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç Telegram
   - –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **API development tools**
   - –°–æ–∑–¥–∞–π –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –°–∫–æ–ø–∏—Ä—É–π `App api_id` –∏ `App api_hash`

#### 2. **BOT_TOKEN** (Telegram Bot API)
   - –ù–∞–ø–∏—à–∏ –±–æ—Ç—É [@BotFather](https://t.me/botfather) –≤ Telegram
   - –ö–æ–º–∞–Ω–¥–∞: `/newbot`
   - –ü—Ä–∏–¥—É–º–∞–π –∏–º—è –∏ username –¥–ª—è –±–æ—Ç–∞
   - BotFather –≤—ã–¥–∞—Å—Ç —Ç–æ–∫–µ–Ω –≤–∏–¥–∞ `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

#### 3. **ADMIN_IDS**
   - –°–≤–æ–π Telegram ID –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —É –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot)
   - –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏ ID –≤ –ª–æ–≥–∞—Ö

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
cd /path/to/your/workspace
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ
python3 -m venv telegram_bot_env

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (macOS/Linux)
source telegram_bot_env/bin/activate

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (Windows)
telegram_bot_env\Scripts\activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `.env`
–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```env
API_ID=123456789
API_HASH=abcdefghijklmnopqrstuvwxyz1234567
BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ Git! –î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:
```
.env
bot_session.session
__pycache__/
*.pyc
```

### 5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
python bot.py
```

–ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —É–≤–∏–¥–∏—à—å –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–ª–∞–≤–Ω—ã–π –±–æ—Ç
```bash
python bot.py
```
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥ –∏ –∫–Ω–æ–ø–æ–∫
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
- `/start` ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ–π—á–∞—Å` ‚Äî –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `ü§ñ –ë–æ—Ç—ã` / `üë§ –Æ–∑–µ—Ä—ã` ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–æ—Ç–æ–≤ –∏ —é–∑–µ—Ä–æ–≤
- `üìÖ –°–º–µ–Ω–∏—Ç—å —Ä–µ–∂–∏–º` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ —Ç–æ—á–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏



---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ‚îÄ bot.py                    # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ bot_settings.json         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: —Ä–µ–∂–∏–º—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ bot_session.session       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞–µ–º–∞—è —Å–µ—Å—Å–∏—è Telethon
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —ë
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (bot_settings.json)

```json
{
    "check_mode": "interval",
    "interval_hours": 5,
    "fixed_times": ["10:00", "18:00"],
    "check_bots": true,
    "check_users": true,
    "links_data": {
        "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": {
            "links": ["username1", "username2"]
        }
    }
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `check_mode` ‚Äî `"interval"` (–∫–∞–∂–¥—ã–µ N —á–∞—Å–æ–≤) –∏–ª–∏ `"fixed"` (–ø–æ —Ç–æ—á–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏)
- `interval_hours` ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —á–∞—Å–∞—Ö
- `fixed_times` ‚Äî –≤—Ä–µ–º–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `"HH:MM"` (–ú–°–ö)
- `check_bots` ‚Äî –ø—Ä–æ–≤–µ—Ä—è—Ç—å –±–æ—Ç–æ–≤ (true/false)
- `check_users` ‚Äî –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (true/false)
- `links_data` ‚Äî –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

---

## üìä –°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ë–æ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∞—Ç—É—Å—ã:

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| üü¢ **online** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–µ—Ç–∏ |
| üü° **recently** | –ë—ã–ª –≤ —Å–µ—Ç–∏ –Ω–µ–¥–∞–≤–Ω–æ |
| üî¥ **away** | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (1-7 –¥–Ω–µ–π) |
| ‚ùå **–∑–∞–º–æ—Ä–æ–∂–µ–Ω** | –ù–µ –∞–∫—Ç–∏–≤–µ–Ω 30+ –¥–Ω–µ–π |
| ‚ö†Ô∏è **–Ω–µ –∞–∫—Ç–∏–≤–µ–Ω** | –î–∞–≤–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥–∏–ª –≤ —Å–µ—Ç—å |
| üö´ **—É–¥–∞–ª–µ–Ω** | –ê–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω |
| ü§ñ **–±–æ—Ç** | –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–æ—Ç |

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "Invalid API credentials"
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `API_ID` –∏ `API_HASH` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å [my.telegram.org](https://my.telegram.org)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `.env` –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`

### "Bot token is invalid"
- –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –æ—Ç BotFather
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —ç—Ç–æ —Ç–æ–∫–µ–Ω –∏–º–µ–Ω–Ω–æ BotFather, –∞ –Ω–µ User Bot API

### "FloodWaitError"
- –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç rate-limit –æ—Ç Telegram
- –£–≤–µ–ª–∏—á—å `interval_hours` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∂–¥–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è

### "UsernameNotOccupiedError"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ username –Ω–∞–ø–∏—Å–∞–Ω –±–µ–∑ `@` —Å–∏–º–≤–æ–ª–∞

### –°–µ—Å—Å–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª `bot_session.session` –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```python
# –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—à—å
"links_data": {
    "–º–æ–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã": {
        "links": ["username1", "username2"]
    },
    "–≤–∞–∂–Ω—ã–µ –ª—é–¥–∏": {
        "links": ["durov", "telegram"]
    }
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –û—Ç–∫—Ä—ã—Ç—å `bot_settings.json`
- –ò–∑–º–µ–Ω–∏—Ç—å `check_mode` –Ω–∞ `"interval"` –∏–ª–∏ `"fixed"`
- –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–∞–≤–æ–≤–∞—è –±–∞–∑–∞**: –ò—Å–ø–æ–ª—å–∑—É–π –±–æ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å Terms of Service Telegram.

2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: API Telegram –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–∫–∫–∞—É–Ω—Ç—ã –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–∏ –Ω–∞ –±–æ—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Bot API BotFather –¥–ª—è –±–æ–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º.

3. **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å**: –ù–µ –¥–µ–ª–∏—Å—å —Å–≤–æ–∏–º `API_HASH` –∏ `BOT_TOKEN` –Ω–∏ —Å –∫–µ–º.

4. **–°–µ—Å—Å–∏–∏**: –§–∞–π–ª `bot_session.session` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ—Å—Å–∏—é ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ.

